{"version":3,"sources":["components/Chart/Chart.js","components/Pet/Pet.js","components/TextPlaceholder/TextPlaceholder.js","components/Pet/PetLoading.js","components/Pet/PetContainer.js","hooks/useFirebaseDoc.js","components/App/App.js","components/App/AppLoading.js","index.js","components/App/AppContainer.js","hooks/useFirebaseInit.js"],"names":["Chart","temps","minTemp","Math","floor","reduce","m","t","min","h","l","maxTemp","ceil","max","range","width","length","hPoints","map","tempi","lPoints","tempPoints","reverse","tempPath","x","y","huPath","hu","parseFloat","i","className","viewBox","version","xmlns","xmlnsXlink","id","x1","x2","y1","y2","offset","stopColor","d","stroke","fill","strokeWidth","strokeDasharray","Pet","name","image","w","useState","timeAgo","setTimeAgo","useEffect","recalculateTimeAgo","ta","Date","intervalId","setInterval","clearInterval","humidity","parseInt","style","backgroundImage","TextPlaceholder","PetLoading","random","PetContainer","petId","petData","docPath","data","setData","firebase","firestore","doc","onSnapshot","snapshot","error","console","useFirebaseDoc","App","AppLoading","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDom","render","isInit","setIsInit","unsubscribe","auth","onAuthStateChanged","useFirebaseInit","document","getElementById"],"mappings":"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","file":"static/js/main.2acd5a57.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Chart.css\";\r\n\r\nexport function Chart({ temps }) {\r\n  const minTemp =\r\n    Math.floor(\r\n      temps.reduce((m, t) => {\r\n        if (m === null) {\r\n          return Math.min(t.h, t.l);\r\n        }\r\n\r\n        return Math.min(t.h, t.l, m);\r\n      }, null) / 5\r\n    ) * 5;\r\n\r\n  const maxTemp =\r\n    Math.ceil(\r\n      temps.reduce((m, t) => {\r\n        if (m === null) {\r\n          return Math.max(t.h, t.l);\r\n        }\r\n\r\n        return Math.max(t.h, t.l, m);\r\n      }, null) / 5\r\n    ) * 5;\r\n\r\n  const range = maxTemp - minTemp;\r\n  const width = 125 / (temps.length - 1);\r\n\r\n  const hPoints = temps.map(({ h }, tempi) => {\r\n    return [width * tempi, (1 - (h - minTemp) / range) * 50];\r\n  });\r\n\r\n  const lPoints = temps.map(({ l }, tempi) => {\r\n    return [width * tempi, (1 - (l - minTemp) / range) * 50];\r\n  });\r\n\r\n  const tempPoints = [...hPoints, ...lPoints.reverse()];\r\n  const tempPath = `M0 0 ${tempPoints.map(([x, y]) => `L${x} ${y} `)}`;\r\n\r\n  const huPoints = temps.map(({ hu }, tempi) => {\r\n    return [width * tempi, 50 - (parseFloat(hu) / 100) * 50];\r\n  });\r\n  const huPath = huPoints.map(\r\n    ([x, y], i) => `${i === 0 ? \"M\" : \"L\"}${x} ${y} `\r\n  );\r\n\r\n  return (\r\n    <div className=\"Chart\">\r\n      {temps.length > 0 && (\r\n        <>\r\n          <div className=\"Chart__tick\">{maxTemp}&deg;</div>\r\n          <div className=\"Chart__tick Chart__tick--min\">{minTemp}&deg;</div>\r\n        </>\r\n      )}\r\n\r\n      <svg\r\n        className=\"Chart__img\"\r\n        viewBox=\"0 0 125 50\"\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      >\r\n        <defs>\r\n          <linearGradient id=\"Gradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\r\n            <stop offset=\"0%\" stopColor=\"red\" />\r\n            <stop offset=\"100%\" stopColor=\"blue\" />\r\n          </linearGradient>\r\n        </defs>\r\n\r\n        <path d={tempPath} stroke=\"none\" fill=\"url(#Gradient)\" />\r\n        <path\r\n          d={huPath}\r\n          strokeWidth=\"0.5\"\r\n          stroke=\"white\"\r\n          strokeDasharray=\"2 1\"\r\n          fill=\"none\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ta from \"s-ago\";\r\n\r\nimport \"./Pet.css\";\r\nimport { Chart } from \"../Chart/Chart\";\r\n\r\nexport function Pet({ name, image, temps }) {\r\n  const { w, l, h, hu } = temps[temps.length - 1];\r\n\r\n  const [timeAgo, setTimeAgo] = useState();\r\n  useEffect(() => {\r\n    function recalculateTimeAgo() {\r\n      setTimeAgo(ta(new Date(w)));\r\n    }\r\n\r\n    const intervalId = setInterval(recalculateTimeAgo, 15000);\r\n    recalculateTimeAgo();\r\n\r\n    return () => {\r\n      clearInterval(intervalId);\r\n    };\r\n  }, [w]);\r\n\r\n  const humidity = parseInt(hu);\r\n\r\n  return (\r\n    <div className=\"Pet\">\r\n      <div className=\"Pet__chart\">\r\n        <Chart temps={temps} />\r\n      </div>\r\n\r\n      <div className=\"Pet__details\">\r\n        <div\r\n          className=\"Pet__image\"\r\n          style={{ backgroundImage: `url(${image})` }}\r\n        ></div>\r\n        <div className=\"Pet__name\">{name}</div>\r\n      </div>\r\n      <div className=\"Pet__meta\">{timeAgo}</div>\r\n\r\n      <div className=\"Pet__value Pet__value--low\">\r\n        <div className=\"Pet__valueTitle\">Low</div>\r\n        <div className=\"Pet__valueValue\">\r\n          {l}\r\n          <span className=\"Pet__valueUnit\">&deg;</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"Pet__value Pet__value--high\">\r\n        <div className=\"Pet__valueTitle\">High</div>\r\n        <div className=\"Pet__valueValue\">\r\n          {h}\r\n          <span className=\"Pet__valueUnit\">&deg;</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"Pet__value Pet__value--humidity\">\r\n        <div className=\"Pet__valueTitle\">Humidity</div>\r\n        <div className=\"Pet__valueValue\">\r\n          {humidity}\r\n          <span className=\"Pet__valueUnit Pet__valueUnit--small\">%</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./TextPlaceholder.css\";\r\n\r\nexport function TextPlaceholder({ width }) {\r\n  return (\r\n    <span className=\"TextPlaceholder\" style={{ width: `${width}em` }}>\r\n      &nbsp;\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Chart } from \"../Chart/Chart\";\r\nimport { TextPlaceholder } from \"../TextPlaceholder/TextPlaceholder\";\r\n\r\nexport function PetLoading() {\r\n  return (\r\n    <div className=\"Pet PetLoading\">\r\n      <div className=\"Pet__chart\">\r\n        <Chart temps={[]} />\r\n      </div>\r\n      <div className=\"Pet__details\">\r\n        <div className=\"Pet__image\"></div>\r\n        <div className=\"Pet__name\">\r\n          <TextPlaceholder width={2 + Math.floor(Math.random() * 3)} />\r\n        </div>\r\n      </div>\r\n      <div className=\"Pet__meta\">\r\n        <TextPlaceholder width=\"1\" /> <TextPlaceholder width=\"3\" />{\" \"}\r\n        <TextPlaceholder width=\"2\" />\r\n      </div>\r\n\r\n      <div className=\"Pet__value Pet__value--low\">\r\n        <div className=\"Pet__valueTitle\">Low</div>\r\n        <div className=\"Pet__valueValue\">\r\n          <TextPlaceholder width=\"2.5\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"Pet__value Pet__value--high\">\r\n        <div className=\"Pet__valueTitle\">High</div>\r\n        <div className=\"Pet__valueValue\">\r\n          <TextPlaceholder width=\"2.5\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"Pet__value Pet__value--humidity\">\r\n        <div className=\"Pet__valueTitle\">Humidity</div>\r\n        <div className=\"Pet__valueValue\">\r\n          <TextPlaceholder width=\"2\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useFirebaseDoc } from \"../../hooks/useFirebaseDoc\";\r\nimport { Pet } from \"./Pet\";\r\nimport { PetLoading } from \"./PetLoading\";\r\n\r\nexport function PetContainer({ petId }) {\r\n  const petData = useFirebaseDoc(`pets/${petId}`);\r\n\r\n  if (!petData) {\r\n    return <PetLoading />;\r\n  }\r\n\r\n  return <Pet {...petData} />;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport firebase from \"firebase/app\";\r\n\r\nexport function useFirebaseDoc(docPath) {\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setData(null);\r\n\r\n    const docRef = firebase.firestore().doc(docPath);\r\n    return docRef.onSnapshot(\r\n      snapshot => {\r\n        setData(snapshot.data());\r\n      },\r\n      error => {\r\n        console.error(\"Error: \", error);\r\n      }\r\n    );\r\n  }, [docPath]);\r\n\r\n  return data;\r\n}\r\n","import React from \"react\";\r\nimport { PetContainer } from \"../Pet/PetContainer\";\r\n\r\nimport \"./App.css\";\r\n\r\nexport function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <PetContainer petId=\"cynthia\" />\r\n      <PetContainer petId=\"bassi\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport function AppLoading() {\r\n  return <div className=\"AppLoading\"></div>;\r\n}\r\n","import React from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nimport { AppContainer } from \"./components/App/AppContainer\";\r\n\r\nimport \"./index.css\";\r\n\r\nfirebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n});\r\n\r\nReactDom.render(<AppContainer />, document.getElementById(\"root\"));\r\n","import React from \"react\";\r\nimport { useFirebaseInit } from \"../../hooks/useFirebaseInit\";\r\n\r\nimport { App } from \"./App\";\r\nimport { AppLoading } from \"./AppLoading\";\r\n\r\nexport function AppContainer() {\r\n  const { isInit } = useFirebaseInit();\r\n\r\n  if (!isInit) {\r\n    return <AppLoading />;\r\n  }\r\n\r\n  return <App />;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport firebase from \"firebase/app\";\r\n\r\nexport function useFirebaseInit() {\r\n  const [isInit, setIsInit] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.auth().onAuthStateChanged(() => {\r\n      setIsInit(true);\r\n      unsubscribe();\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    isInit\r\n  };\r\n}\r\n"],"sourceRoot":""}