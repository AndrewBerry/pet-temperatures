{"version":3,"sources":["components/Chart/Chart.js","components/Pet/Pet.js","components/TextPlaceholder/TextPlaceholder.js","components/Pet/PetLoading.js","components/Pet/PetContainer.js","hooks/useFirebaseDoc.js","components/App/App.js","components/App/AppLoading.js","index.js","components/App/AppContainer.js","hooks/useFirebaseInit.js"],"names":["Chart","temps","minTemp","Math","floor","reduce","m","t","min","h","l","maxTemp","ceil","max","range","width","length","hPoints","map","tempi","lPoints","tempPoints","reverse","tempPath","x","y","huPath","hu","parseFloat","i","className","viewBox","version","xmlns","xmlnsXlink","id","x1","x2","y1","y2","offset","stopColor","d","stroke","fill","strokeWidth","strokeDasharray","Pet","name","image","w","useState","timeAgo","setTimeAgo","useEffect","recalculateTimeAgo","ta","Date","intervalId","setInterval","clearInterval","humidity","parseInt","style","backgroundImage","TextPlaceholder","PetLoading","random","PetContainer","petId","petData","docPath","data","setData","firebase","firestore","doc","onSnapshot","snapshot","error","console","useFirebaseDoc","App","AppLoading","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDom","render","isInit","setIsInit","unsubscribe","auth","onAuthStateChanged","useFirebaseInit","document","getElementById"],"mappings":"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","file":"static/js/main.f64deb6f.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Chart.css\";\n\nexport function Chart({ temps }) {\n  const minTemp =\n    Math.floor(\n      temps.reduce((m, t) => {\n        if (m === null) {\n          return Math.min(t.h, t.l);\n        }\n\n        return Math.min(t.h, t.l, m);\n      }, null) / 5\n    ) * 5;\n\n  const maxTemp =\n    Math.ceil(\n      temps.reduce((m, t) => {\n        if (m === null) {\n          return Math.max(t.h, t.l);\n        }\n\n        return Math.max(t.h, t.l, m);\n      }, null) / 5\n    ) * 5;\n\n  const range = maxTemp - minTemp;\n  const width = 125 / (temps.length - 1);\n\n  const hPoints = temps.map(({ h }, tempi) => {\n    return [width * tempi, (1 - (h - minTemp) / range) * 50];\n  });\n\n  const lPoints = temps.map(({ l }, tempi) => {\n    return [width * tempi, (1 - (l - minTemp) / range) * 50];\n  });\n\n  const tempPoints = [...hPoints, ...lPoints.reverse()];\n  const tempPath = `M0 0 ${tempPoints.map(([x, y]) => `L${x} ${y} `)}`;\n\n  const huPoints = temps.map(({ hu }, tempi) => {\n    return [width * tempi, 50 - (parseFloat(hu) / 100) * 50];\n  });\n  const huPath = huPoints.map(\n    ([x, y], i) => `${i === 0 ? \"M\" : \"L\"}${x} ${y} `\n  );\n\n  return (\n    <div className=\"Chart\">\n      {temps.length > 0 && (\n        <>\n          <div className=\"Chart__tick\">{maxTemp}&deg;</div>\n          <div className=\"Chart__tick Chart__tick--min\">{minTemp}&deg;</div>\n        </>\n      )}\n\n      <svg\n        className=\"Chart__img\"\n        viewBox=\"0 0 125 50\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      >\n        <defs>\n          <linearGradient id=\"Gradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"red\" />\n            <stop offset=\"100%\" stopColor=\"blue\" />\n          </linearGradient>\n        </defs>\n\n        <path d={tempPath} stroke=\"none\" fill=\"url(#Gradient)\" />\n        <path\n          d={huPath}\n          strokeWidth=\"0.5\"\n          stroke=\"white\"\n          strokeDasharray=\"2 1\"\n          fill=\"none\"\n        />\n      </svg>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport ta from \"s-ago\";\n\nimport \"./Pet.css\";\nimport { Chart } from \"../Chart/Chart\";\n\nexport function Pet({ name, image, temps }) {\n  const { w, l, h, hu } = temps[temps.length - 1];\n\n  const [timeAgo, setTimeAgo] = useState();\n  useEffect(() => {\n    function recalculateTimeAgo() {\n      setTimeAgo(ta(new Date(w)));\n    }\n\n    const intervalId = setInterval(recalculateTimeAgo, 15000);\n    recalculateTimeAgo();\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [w]);\n\n  const humidity = parseInt(hu);\n\n  return (\n    <div className=\"Pet\">\n      <div className=\"Pet__chart\">\n        <Chart temps={temps} />\n      </div>\n\n      <div className=\"Pet__details\">\n        <div\n          className=\"Pet__image\"\n          style={{ backgroundImage: `url(${image})` }}\n        ></div>\n        <div className=\"Pet__name\">{name}</div>\n      </div>\n      <div className=\"Pet__meta\">{timeAgo}</div>\n\n      <div className=\"Pet__value Pet__value--low\">\n        <div className=\"Pet__valueTitle\">Low</div>\n        <div className=\"Pet__valueValue\">\n          {l}\n          <span className=\"Pet__valueUnit\">&deg;</span>\n        </div>\n      </div>\n      <div className=\"Pet__value Pet__value--high\">\n        <div className=\"Pet__valueTitle\">High</div>\n        <div className=\"Pet__valueValue\">\n          {h}\n          <span className=\"Pet__valueUnit\">&deg;</span>\n        </div>\n      </div>\n      <div className=\"Pet__value Pet__value--humidity\">\n        <div className=\"Pet__valueTitle\">Humidity</div>\n        <div className=\"Pet__valueValue\">\n          {humidity}\n          <span className=\"Pet__valueUnit Pet__valueUnit--small\">%</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./TextPlaceholder.css\";\n\nexport function TextPlaceholder({ width }) {\n  return (\n    <span className=\"TextPlaceholder\" style={{ width: `${width}em` }}>\n      &nbsp;\n    </span>\n  );\n}\n","import React from \"react\";\nimport { Chart } from \"../Chart/Chart\";\nimport { TextPlaceholder } from \"../TextPlaceholder/TextPlaceholder\";\n\nexport function PetLoading() {\n  return (\n    <div className=\"Pet PetLoading\">\n      <div className=\"Pet__chart\">\n        <Chart temps={[]} />\n      </div>\n      <div className=\"Pet__details\">\n        <div className=\"Pet__image\"></div>\n        <div className=\"Pet__name\">\n          <TextPlaceholder width={2 + Math.floor(Math.random() * 3)} />\n        </div>\n      </div>\n      <div className=\"Pet__meta\">\n        <TextPlaceholder width=\"1\" /> <TextPlaceholder width=\"3\" />{\" \"}\n        <TextPlaceholder width=\"2\" />\n      </div>\n\n      <div className=\"Pet__value Pet__value--low\">\n        <div className=\"Pet__valueTitle\">Low</div>\n        <div className=\"Pet__valueValue\">\n          <TextPlaceholder width=\"2.5\" />\n        </div>\n      </div>\n      <div className=\"Pet__value Pet__value--high\">\n        <div className=\"Pet__valueTitle\">High</div>\n        <div className=\"Pet__valueValue\">\n          <TextPlaceholder width=\"2.5\" />\n        </div>\n      </div>\n      <div className=\"Pet__value Pet__value--humidity\">\n        <div className=\"Pet__valueTitle\">Humidity</div>\n        <div className=\"Pet__valueValue\">\n          <TextPlaceholder width=\"2\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useFirebaseDoc } from \"../../hooks/useFirebaseDoc\";\nimport { Pet } from \"./Pet\";\nimport { PetLoading } from \"./PetLoading\";\n\nexport function PetContainer({ petId }) {\n  const petData = useFirebaseDoc(`pets/${petId}`);\n\n  if (!petData) {\n    return <PetLoading />;\n  }\n\n  return <Pet {...petData} />;\n}\n","import { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\n\nexport function useFirebaseDoc(docPath) {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    setData(null);\n\n    const docRef = firebase.firestore().doc(docPath);\n    return docRef.onSnapshot(\n      snapshot => {\n        setData(snapshot.data());\n      },\n      error => {\n        console.error(\"Error: \", error);\n      }\n    );\n  }, [docPath]);\n\n  return data;\n}\n","import React from \"react\";\nimport { PetContainer } from \"../Pet/PetContainer\";\n\nimport \"./App.css\";\n\nexport function App() {\n  return (\n    <div className=\"App\">\n      <PetContainer petId=\"cynthia\" />\n      <PetContainer petId=\"bassi\" />\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport function AppLoading() {\n  return <div className=\"AppLoading\"></div>;\n}\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nimport { AppContainer } from \"./components/App/AppContainer\";\n\nimport \"./index.css\";\n\nfirebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n});\n\nReactDom.render(<AppContainer />, document.getElementById(\"root\"));\n","import React from \"react\";\nimport { useFirebaseInit } from \"../../hooks/useFirebaseInit\";\n\nimport { App } from \"./App\";\nimport { AppLoading } from \"./AppLoading\";\n\nexport function AppContainer() {\n  const { isInit } = useFirebaseInit();\n\n  if (!isInit) {\n    return <AppLoading />;\n  }\n\n  return <App />;\n}\n","import { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\n\nexport function useFirebaseInit() {\n  const [isInit, setIsInit] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(() => {\n      setIsInit(true);\n      unsubscribe();\n    });\n  }, []);\n\n  return {\n    isInit\n  };\n}\n"],"sourceRoot":""}